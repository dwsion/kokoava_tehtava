<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Matkailun iloa</title>
  <meta content="" name="Tämä sivusto keskittyy lippuvisan pelailuun, jossa seikkaillaan ympäri maailmaa kuvien avulla ja paetaan syksyn pimeyttä ja sadetta">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">


</head>

<body>

  <!-- ======= Hero Section ======= -->
  <section id="hero">
    <div class="hero-container">
      <a href="index.html" class="hero-logo" data-aos="zoom-in"><img src="assets/img/hero-logo.png" alt=""></a>
      <a href="index.html" class="sääkuva" data-aos="zoom-in"><img src="sade.jpg" alt=""></a> <p>



      </p>
      <h1 data-aos="zoom-in">Joko synkkä sää ja sade riittää?</h1>
      <h2 data-aos="fade-up">Pelaa lippupeliä ja lähde matkalle ympäri maailman</h2>
      <a data-aos="fade-up" data-aos-delay="200" href="#lippuvisa" class="btn-get-started scrollto">Pelaa tästä</a>
    </div>
  </section><!-- End Hero -->

  <!-- ======= Header ======= -->
  <header id="header" class="d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

      <div class="logo">
        <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>
      </div>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto active" href="#hero">ALKU</a></li>
          <li><a class="nav-link scrollto" href="#lippuvisa">lippuvisa</a></li>
          <li><a class="nav-link scrollto" href="#footer">SÄÄTIEDOT</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= About Us Section ======= -->
    <section class="custom-style" id="lippuvisa">
        <div class="container">
            <h1 class="my-4 text-center">Arvaa maan lippu!</h1>
            <div id="quiz-section" class="text-center">
                <div id="flag-box" class="card mb-4">
                    <div class="card-body">
                        <img id="flag-img" src="" alt="Maan lippu" class="img-fluid">
                    </div>
                </div>
                <input type="text" id="country-input" class="form-control my-3" placeholder="Syötä maan nimi (suomeksi)">
                <button id="submit-btn" class="btn btn-primary">Lähetä vastaus</button>
                <button id="dont-know-btn" class="btn btn-secondary ms-2">Näytä oikea vastaus</button>
                <button id="new-flag-btn" class="btn btn-info ms-2">Uusi lippu</button>
                <div id="result" class="mt-4"></div>
                <div id="score" class="mt-4"></div>
            </div>

            <!-- Maan tiedot ja kartta -->
            <div id="country-info" class="text-left">
                <h5 id="country-name" class="mb-3"></h5>
                <ul id="country-details"></ul>
                <div id="map"></div>
            </div>

            <!-- Kuvakaruselli -->
            <div id="carouselContainer" class="mt-4">
                <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner" id="carousel-images"></div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Edellinen</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Seuraava</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAzT5np300YGQSuTeeQML_Mi20S51tAR0k" async defer></script>

    <script>
        let countryData = [];
        let correctCountry = '';
        let correctCountryInFinnish = '';
        let score = 0;

        const countryTranslations = {
            "Finland": "Suomi",
            "Sweden": "Ruotsi",
            "Norway": "Norja",
            "Denmark": "Tanska",
            "Germany": "Saksa",
            "France": "Ranska",
            "Italy": "Italia",
            "Spain": "Espanja",
            "Japan": "Japani",
            "United States": "Yhdysvallat",
            "Canada": "Kanada"
        };

        fetch('https://restcountries.com/v3.1/all')
            .then(response => response.json())
            .then(data => {
                countryData = data;
                startQuiz();
            });

        function startQuiz() {
            const randomIndex = Math.floor(Math.random() * countryData.length);
            const country = countryData[randomIndex];
            correctCountry = country.name.common;
            correctCountryInFinnish = countryTranslations[correctCountry] || correctCountry;

            document.getElementById('flag-img').src = country.flags.png;

            document.getElementById('result').innerText = '';
            document.getElementById('country-info').style.display = 'none';
            document.getElementById('country-name').innerText = '';
            document.getElementById('country-input').value = '';
            document.getElementById('score').innerText = `Pisteesi: ${score}`;

            showCarouselImages(correctCountry); 
        }

        function showCarouselImages(countryName) {
            const accessKey = 'kOtx4NsMYxC68f_HJIWSYP4cBTQoZeMzy2-aDFBLO2g';
            const apiUrl = `https://api.unsplash.com/search/photos?query=${countryName}&client_id=${accessKey}`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const carouselImagesDiv = document.getElementById('carousel-images');
                    carouselImagesDiv.innerHTML = '';

                    if (data.results.length > 0) {
                        data.results.forEach((img, index) => {
                            const isActive = index === 0 ? 'active' : '';
                            const imgElement = `
                                <div class="carousel-item ${isActive}">
                                    <img src="${img.urls.regular}" class="d-block w-100" alt="Kuva ${countryName} maasta">
                                </div>
                            `;
                            carouselImagesDiv.innerHTML += imgElement;
                        });
                    } else {
                        carouselImagesDiv.innerHTML = `
                            <div class="carousel-item active">
                                <img src="https://via.placeholder.com/800x400?text=Ei+kuvia+%E2%80%93+Kuvia+ei+ole saatavilla" class="d-block w-100" alt="Ei kuvia">
                            </div>
                        `;
                    }
                })
                .catch(error => {
                    console.error('Virhe haettaessa kuvia:', error);
                });
        }

        document.getElementById('submit-btn').addEventListener('click', () => {
            const userInput = document.getElementById('country-input').value.trim();
            if (userInput.toLowerCase() === correctCountryInFinnish.toLowerCase()) {
                document.getElementById('result').innerText = 'Oikein!';
                score++;
                document.getElementById('score').innerText = `Pisteesi: ${score}`;

                const currentCountry = countryData.find(country => country.name.common === correctCountry);
                showCountryInfo(currentCountry); 
            } else {
                document.getElementById('result').innerText = `Väärin! Oikea vastaus on ${correctCountryInFinnish}.`;
            }
        });

        document.getElementById('dont-know-btn').addEventListener('click', () => {
            document.getElementById('result').innerText = `Oikea vastaus on ${correctCountryInFinnish}.`;
            const currentCountry = countryData.find(country => country.name.common === correctCountry);
            showCountryInfo(currentCountry); 
        });

        document.getElementById('new-flag-btn').addEventListener('click', () => {
            startQuiz();
        });

        function showCountryInfo(country) {
            const countryInfoDiv = document.getElementById('country-info');
            const countryDetails = document.getElementById('country-details');

            countryDetails.innerHTML = `
                <li><strong>Maa:</strong> ${correctCountryInFinnish}</li>
                <li><strong>Alue:</strong> ${country.region}</li>
                <li><strong>Alueen osa:</strong> ${country.subregion}</li>
                <li><strong>Väkiluku:</strong> ${country.population.toLocaleString()}</li>
                <li><strong>Valuutta:</strong> ${Object.values(country.currencies)[0].name} (${Object.keys(country.currencies)[0]})</li>
            `;

            countryInfoDiv.style.display = 'block';
            showMap(country);
        }

        function showMap(country) {
            const lat = country.latlng[0];
            const lng = country.latlng[1];
            const map = new google.maps.Map(document.getElementById('map'), {
                zoom: 5,
                center: { lat, lng }
            });

            new google.maps.Marker({
                position: { lat, lng },
                map: map
            });
        }
    </script>

        
        </section><!-- End About Us Section -->


    <!-- ======= Frequently Asked Questions Section ======= -->
    <section id="faq" class="faq">
      <div class="container">

        <div class="section-title" data-aos="fade-up">
          <h2>Muutamia vinkkejä matkailuun</h2>
        </div>

        <ul class="faq-list">

          <li data-aos="fade-up">
            <a data-bs-toggle="collapse" class="collapsed" data-bs-target="#faq1">Mistä voin vertailla halpoja lentoja eri kohteisiin? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-x icon-close"></i></a>
            <div id="faq1" class="collapse" data-bs-parent=".faq-list">
              <p>
                <a href="www.momondo.fi">Momondo</a> on hyvä sivusto, josta löydät halvat lennot eri kohteisiin. Sivusto vertailee eri lentoyhtiöiden hintoja ja näyttää sinulle parhaat vaihtoehdot. 
                  Voit myös tilata hintavahtipalvelun, joka ilmoittaa sinulle sähköpostitse, kun lentolipun hinta laskee. 
                </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="100">
            <a data-bs-toggle="collapse" data-bs-target="#faq2" class="collapsed">Mistä kautta hankin äkkilähdön?<i class="bx bx-chevron-down icon-show"></i><i class="bx bx-x icon-close"></i></a>
            <div id="faq2" class="collapse" data-bs-parent=".faq-list">
              <p>
                <a href="www.rantapallo.fi">Rantapallo</a> on hyvä sivusto, josta löydät äkkilähdöt ja halvat matkat. Sivusto vertailee eri matkatoimistojen hintoja ja näyttää sinulle parhaat vaihtoehdot. 
                  Voit myös tilata hintavahtipalvelun, joka ilmoittaa sinulle sähköpostitse, kun matkan hinta laskee.
                            </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="200">
            <a data-bs-toggle="collapse" data-bs-target="#faq3" class="collapsed">MItä ottaa huomioon matkalle lähtiessä <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-x icon-close"></i></a>
            <div id="faq3" class="collapse" data-bs-parent=".faq-list">
              <p>
                <a href="www.finavia.fi">Finavia</a> sivustolta löydät tietoa lentokentistä ja niiden palveluista. Sivusto kertoo myös, mitä ottaa huomioon matkalle lähtiessä ja miten toimia eri tilanteissa. 
                  Sivusto kertoo myös, mitä saa ja ei saa ottaa mukaan lentokoneeseen ja miten toimia, jos matkatavarat katoavat.
              </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="300">
            <a data-bs-toggle="collapse" data-bs-target="#faq4" class="collapsed">Mihin maihin matkustaminen on turvallista? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-x icon-close"></i></a>
            <div id="faq4" class="collapse" data-bs-parent=".faq-list">
              <p>
                <a href="www.um.fi/uusimmat-matkustustiedotteet"> </a> Matkustustiedotteet sisältävät pitkän aikavälin tietoa maan tai alueen yleisestä turvallisuustilanteesta. Tieto on tarkoitettu matkustajan oman päätöksenteon tueksi.
                Tiedotteita julkaistaan niistä maista, joissa Suomella on edustusto tai joista edustustot muuten pystyvät hankkimaan luotettavaa tietoa:
              </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="400">
            <a data-bs-toggle="collapse" data-bs-target="#faq5" class="collapsed">Tempus quam pellentesque nec nam aliquam sem et tortor consequat? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-x icon-close"></i></a>
            <div id="faq5" class="collapse" data-bs-parent=".faq-list">
              <p>
                Molestie a iaculis at erat pellentesque adipiscing commodo. Dignissim suspendisse in est ante in. Nunc vel risus commodo viverra maecenas accumsan. Sit amet nisl suscipit adipiscing bibendum est. Purus gravida quis blandit turpis cursus in
              </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="500">
            <a data-bs-toggle="collapse" data-bs-target="#faq6" class="collapsed">Tortor vitae purus faucibus ornare. Varius vel pharetra vel turpis nunc eget lorem dolor? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-x icon-close"></i></a>
            <div id="faq6" class="collapse" data-bs-parent=".faq-list">
              <p>
                Laoreet sit amet cursus sit amet dictum sit amet justo. Mauris vitae ultricies leo integer malesuada nunc vel. Tincidunt eget nullam non nisi est sit amet. Turpis nunc eget lorem dolor sed. Ut venenatis tellus in metus vulputate eu scelerisque. Pellentesque diam volutpat commodo sed egestas egestas fringilla phasellus faucibus. Nibh tellus molestie nunc non blandit massa enim nec.
              </p>
            </div>
          </li>

        </ul>

      </div>
    </section><!-- End Frequently Asked Questions Section -->


  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="footer-top">

      <div class="container">

        <div class="row justify-content-center">
          <div class="col-lg-6">
            <a href="#header" class="scrollto footer-logo"><img src="assets/img/hero-logo.png" alt=""></a>
            <h3>Hae säätiedot kaupungille</h3>
            <p>Kirjoita alle kaupungin nimi, niin saat vastauksena tämän hetkisen sään tiedot</p>
          </div>
        </div>

        <div class="row footer-newsletter justify-content-center">
          <div class="col-lg-6">
            
          </div>
        </div>
        <!-- Sää-->

        
        <section class="page-section bg-primary" id="sää">
          <h1></h1>
  <form id="weatherForm">
      <input type="text" id="cityInput" placeholder="Kaupunki" required>
      <input type="submit" value="Hae säätiedot">
  </form>

  <style>
      body {
          font-family: Arial, sans-serif;
          margin: 20px;
          background-color: hsla(46, 86%, 59%, 0.984);
      }
      h1 {
          text-align: center;
          color: #0c0a0a;
      }
      form {
          text-align: center;
          margin-bottom: 20px;
      }
      input[type="text"] {
          padding: 10px;
          font-size: 16px;
          width: 1200px;
          align-content: center;
      }
          
        
      
      
      
  </style>

  <div id="weatherContainer" class="weatherContainer"></div>

  <script>
      const apiKey = '314de1b8dabfbace7321a5ff474e27d1'; // Aseta oma OpenWeatherMap API-avain tähän
      const unsplashAccessKey = 'kOtx4NsMYxC68f_HJIWSYP4cBTQoZeMzy2-aDFBLO2g'; // Aseta oma Unsplash API-avain tähän

      document.getElementById('weatherForm').addEventListener('submit', function(event) {
          event.preventDefault();
          const city = document.getElementById('cityInput').value.trim();
          fetchWeather(city);
      });

      function fetchWeather(city) {
          const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${apiKey}&lang=fi`;

          fetch(url)
              .then(response => {
                  if (!response.ok) {
                      throw new Error('Tietoja ei löytynyt.');
                  }
                  return response.json();
              })
              .then(data => {
                  const countryName = getCountryName(data.sys.country);
                  displayWeather(data, countryName);
                  fetchImage(data.name); // Hae kuva kaupungin mukaan
              })
              .catch(error => {
                  document.getElementById("weatherContainer").innerHTML = 
                  "<p>Tietoa ei pystytä hakemaan. Tarkista kaupunki ja yritä uudelleen.</p>";
              });
      }

      function getCountryName(countryCode) {
          const countryNames = {
              "FI": "Suomi",
              "SE": "Ruotsi",
              "NO": "Norja",
              "DE": "Saksa",
              "FR": "Ranska",
              "US": "Yhdysvallat",
              "GB": "Iso-Britannia",
              "JP": "Japani",
              "CN": "Kiina",
              // Lisää muita maita tarpeen mukaan
          };
          return countryNames[countryCode] || countryCode; // Palauttaa koodin jos ei löydy nimeä
      }

      function displayWeather(data, countryName) {
          let teksti = `<div class='weatherItem'>
                          <div class='imageContainer'>
                              <img src='http://openweathermap.org/img/w/${data.weather[0].icon}.png' alt='sääkuva'>
                          </div>
                          <div class='weatherInfo'>
                              <h5>Maa: ${countryName}</h5>
                              <p>Kaupunki: ${data.name}</p>
                              <p>Kuvaus: ${data.weather[0].description}</p>
                              <p>Lämpötila: ${data.main.temp} &deg;C</p>
                              <p>Tuulen nopeus: ${data.wind.speed} m/s</p>
                          </div>
                        </div>`;
          document.getElementById("weatherContainer").innerHTML = teksti; // Tyhjennetään aiemmat tulokset
      }

      function fetchImage(cityName) {
          // Haetaan kuva Unsplashista
          const url = `https://api.unsplash.com/search/photos?query=${cityName}&client_id=${unsplashAccessKey}`;

          fetch(url)
              .then(response => {
                  if (!response.ok) {
                      throw new Error('Kuvaa ei löytynyt.');
                  }
                  return response.json();
              })
              .then(data => {
                  const imageUrl = data.results.length > 0 ? data.results[0].urls.regular : 'https://via.placeholder.com/300x200?text=Kuva+ei+loydy';
                  document.querySelector('.imageContainer img').src = imageUrl; // Päivitetään kuva
              })
              .catch(error => {
                  console.error(error);
              });
      }
  </script>

        <div class="social-links">
          <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
          <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
          <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
          <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
          <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
        </div>

      </div>
    </div>

    <div class="container footer-bottom clearfix">
      <div class="copyright">
        &copy; Copyright <strong><span>Jani Rehnman</span></strong>. All Rights Reserved
      </div>
      
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>

  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>